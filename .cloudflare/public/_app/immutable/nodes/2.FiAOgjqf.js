import{f as P,a as V,t as se}from"../chunks/CH1VDhzj.js";import{o as pe}from"../chunks/CzH2CH0p.js";import{l as ve,b as _e,c as G,h as O,y as me,a as he,z as b,A as be,r as xe,H as ge,s as le,d as J,n as F,C as ye,B as Ee,m as re,t as ke,i as Y,D as Te,F as we,G as ne,I as ie,J as Me,K as Se,j as oe,p as Ae,M as Ie,O as Ce,P as K,k as fe,Q as De,R as Ne,S as Re,T as He,U as Oe,V as Ve,W as Be,x as Ye,X as Fe,Y as Le,Z as Pe,_ as L,$ as Ue,a0 as w,a1 as We,a2 as R,a3 as M,a4 as k,a5 as Xe,a6 as qe}from"../chunks/Br_uHRl1.js";import{d as ze,e as Ge,s as Q}from"../chunks/D13PD1CV.js";import{i as Z}from"../chunks/CnDl0I8_.js";import{r as X}from"../chunks/DlHbE80F.js";import"../chunks/r7VLxA0X.js";function Je(e,r){return r}function Ke(e,r,a){for(var n=e.items,l=[],s=r.length,i=0;i<s;i++)Ne(r[i].e,l,!0);var m=s>0&&l.length===0&&a!==null;if(m){var y=a.parentNode;Re(y),y.append(a),n.clear(),D(e,r[0].prev,r[s-1].next)}He(l,()=>{for(var u=0;u<s;u++){var x=r[u];m||(n.delete(x.k),D(e,x.prev,x.next)),fe(x.e,!m)}})}function Qe(e,r,a,n,l,s=null){var i=e,m={flags:r,items:new Map,first:null};{var y=e;i=O?G(me(y)):y.appendChild(ve())}O&&he();var u=null,x=!1,I=new Map,v=be(()=>{var c=a();return Me(c)?c:c==null?[]:ie(c)}),h,o;function d(){Ze(o,h,m,I,i,l,r,n,a),s!==null&&(h.length===0?u?oe(u):u=re(()=>s(i)):u!==null&&Ae(u,()=>{u=null}))}_e(()=>{o??=Oe,h=b(v);var c=h.length;if(x&&c===0)return;x=c===0;let C=!1;if(O){var p=xe(i)===ge;p!==(c===0)&&(i=le(),G(i),J(!1),C=!0)}if(O){for(var t=null,_,f=0;f<c;f++){if(F.nodeType===ye&&F.data===Ee){i=F,C=!0,J(!1);break}var E=h[f],T=n(E,f);_=te(F,m,t,null,E,T,f,l,r,a),m.items.set(T,_),t=_}c>0&&G(le())}if(O)c===0&&s&&(u=re(()=>s(i)));else if(ke()){var S=new Set,g=Y;for(f=0;f<c;f+=1){E=h[f],T=n(E,f);var A=m.items.get(T)??I.get(T);A?ue(A,E,f):(_=te(null,m,null,null,E,T,f,l,r,a,!0),I.set(T,_)),S.add(T)}for(const[N,H]of m.items)S.has(N)||g.skipped_effects.add(H.e);g.oncommit(d)}else d();C&&J(!0),b(v)}),O&&(i=F)}function Ze(e,r,a,n,l,s,i,m,y){var u=r.length,x=a.items,I=a.first,v=I,h,o=null,d=[],c=[],C,p,t,_;for(_=0;_<u;_+=1){if(C=r[_],p=m(C,_),t=x.get(p),t===void 0){var f=n.get(p);if(f!==void 0){n.delete(p),x.set(p,f);var E=o?o.next:v;D(a,o,f),D(a,f,E),$(f,E,l),o=f}else{var T=v?v.e.nodes_start:l;o=te(T,a,o,o===null?a.first:o.next,C,p,_,s,i,y)}x.set(p,o),d=[],c=[],v=o.next;continue}if(ue(t,C,_),(t.e.f&K)!==0&&oe(t.e),t!==v){if(h!==void 0&&h.has(t)){if(d.length<c.length){var S=c[0],g;o=S.prev;var A=d[0],N=d[d.length-1];for(g=0;g<d.length;g+=1)$(d[g],S,l);for(g=0;g<c.length;g+=1)h.delete(c[g]);D(a,A.prev,N.next),D(a,o,A),D(a,N,S),v=S,o=N,_-=1,d=[],c=[]}else h.delete(t),$(t,v,l),D(a,t.prev,t.next),D(a,t,o===null?a.first:o.next),D(a,o,t),o=t;continue}for(d=[],c=[];v!==null&&v.k!==p;)(v.e.f&K)===0&&(h??=new Set).add(v),c.push(v),v=v.next;if(v===null)continue;t=v}d.push(t),o=t,v=t.next}if(v!==null||h!==void 0){for(var H=h===void 0?[]:ie(h);v!==null;)(v.e.f&K)===0&&H.push(v),v=v.next;var q=H.length;if(q>0){var U=u===0?l:null;Ke(a,H,U)}}e.first=a.first&&a.first.e,e.last=o&&o.e;for(var z of n.values())fe(z.e);n.clear()}function ue(e,r,a,n){Te(e.v,r),e.i=a}function te(e,r,a,n,l,s,i,m,y,u,x){var I=(y&Ie)!==0,v=(y&Ce)===0,h=I?v?we(l,!1,!1):ne(l):l,o=(y&Se)===0?i:ne(i),d={i:o,v:h,k:s,a:null,e:null,prev:a,next:n};try{if(e===null){var c=document.createDocumentFragment();c.append(e=ve())}return d.e=re(()=>m(e,h,o,u),O),d.e.prev=a&&a.e,d.e.next=n&&n.e,a===null?x||(r.first=d):(a.next=d,a.e.next=d.e),n!==null&&(n.prev=d,n.e.prev=d.e),d}finally{}}function $(e,r,a){for(var n=e.next?e.next.e.nodes_start:a,l=r?r.e.nodes_start:a,s=e.e.nodes_start;s!==null&&s!==n;){var i=De(s);l.before(s),s=i}}function D(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}function j(e,r,a=r){var n=new WeakSet;Ve(e,"input",async l=>{var s=l?e.defaultValue:e.value;if(s=ee(e)?ae(s):s,a(s),Y!==null&&n.add(Y),await Be(),s!==(s=r())){var i=e.selectionStart,m=e.selectionEnd,y=e.value.length;if(e.value=s??"",m!==null){var u=e.value.length;i===m&&m===y&&u>y?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=i,e.selectionEnd=Math.min(m,u))}}}),(O&&e.defaultValue!==e.value||Ye(r)==null&&e.value)&&(a(ee(e)?ae(e.value):e.value),Y!==null&&n.add(Y)),Fe(()=>{var l=r();if(e===document.activeElement){var s=Le??Y;if(n.has(s))return}ee(e)&&l===ae(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function ee(e){var r=e.type;return r==="number"||r==="range"}function ae(e){return e===""?null:+e}var $e=P('<form method="POST" class="p-2"><div class="form-control p-2 flex items-center gap-4"><label for="task" class="w-32">タスクの名前：</label> <input name="task" placeholder="..." class="border border-gray-500 p-2 rounded-sm"/></div> <div class="form-control p-2 flex items-center gap-4"><label for="date" class="w-32">実施予定日：</label> <input name="date" type="date" class="border border-gray-500 p-2 rounded-sm"/></div> <div class="form-control p-2 flex items-center gap-4"><label for="reps" class="w-32">回数：</label> <input name="reps" type="number" placeholder="..." class="border border-gray-500 p-2 rounded-sm"/></div> <div class="form-control submit p-2"><button type="submit" class="bg-blue-500 text-white p-2 rounded-sm hover:bg-blue-600 cursor-pointer">送信</button></div></form>'),je=P('<input type="checkbox" checked/>'),ea=P('<input type="checkbox"/>'),aa=P('<li class="task p-2 m-2"><p class="task-title">タスク名　　：<span class="font-bold"> </span></p> <p class="task-date">実施日　　　：<span class="font-bold"> </span></p> <p class="task-times">実施回数　　：<span class="font-bold"> </span></p> <p class="task-status">ステータス　： <!></p></li>'),ra=P('<div class="container mx-auto"><h1 class="text-center p-2 text-4xl font-bold">習慣化アプリ</h1> <div class="register-area p-2"><button class="bg-blue-500 text-white p-2 rounded-sm hover:bg-blue-600 cursor-pointer"><!></button> <!></div> <hr/> <ul class="tasks-list p-2"></ul></div>');function fa(e,r){Pe(r,!0);let a=L(!1),n=L(Ue([])),l=L(""),s=L(""),i=L(0);pe(()=>{R(n,[...r.data.data],!0)});const m=async()=>{R(a,!b(a))},y=async p=>{p.preventDefault();const t={id:(b(n).at(-1)?.id??0)+1,date:b(s),task:b(l),reps:b(i),status:"in_progress"};b(n).push(t),R(s,""),R(l,""),R(i,0),R(a,!b(a))};var u=ra(),x=M(w(u),2),I=w(x);I.__click=m;var v=w(I);{var h=p=>{var t=se("閉じる");V(p,t)},o=p=>{var t=se("登録する");V(p,t)};Z(v,p=>{b(a)?p(h):p(o,!1)})}k(I);var d=M(I,2);{var c=p=>{var t=$e(),_=w(t),f=M(w(_),2);X(f),k(_);var E=M(_,2),T=M(w(E),2);X(T),k(E);var S=M(E,2),g=M(w(S),2);X(g),k(S),Xe(2),k(t),Ge("submit",t,y),j(f,()=>b(l),A=>R(l,A)),j(T,()=>b(s),A=>R(s,A)),j(g,()=>b(i),A=>R(i,A)),V(p,t)};Z(d,p=>{b(a)&&p(c)})}k(x);var C=M(x,4);Qe(C,21,()=>b(n),Je,(p,t)=>{var _=aa(),f=w(_),E=M(w(f)),T=w(E,!0);k(E),k(f);var S=M(f,2),g=M(w(S)),A=w(g,!0);k(g),k(S);var N=M(S,2),H=M(w(N)),q=w(H,!0);k(H),k(N);var U=M(N,2),z=M(w(U));{var de=B=>{var W=je();X(W),V(B,W)},ce=B=>{var W=ea();V(B,W)};Z(z,B=>{b(t).status==="completed"?B(de):B(ce,!1)})}k(U),k(_),qe(()=>{Q(T,b(t).task),Q(A,b(t).date),Q(q,b(t).reps)}),V(p,_)}),k(C),k(u),V(e,u),We()}ze(["click"]);export{fa as component};
